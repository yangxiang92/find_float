# 简介

本脚本可用于解析获取文本中合法的浮点数字符串。使用方法：

    python3 main.py <-i input_file> [-o output_file] [-h]

    -i  用于指定输入文件input_file。该选项为必须项。

    -o  用于指定结果输出文件output_file。脚本所解析获取的结果将会输出到该文件中。此选项为可选项，无论设置与否，最终结果都将会在终端进行显示。

    -h  显示帮助菜单。

关于“合法”浮点数的定义：

1. 整数不是浮点数。如：234，187；
2. 有两个符号以上的不是浮点数。如：++456，--15.86；
3. 有两个小数点以上的不是浮点数。如：0.0.234，0.34.578；
4. 仅有一个符号，且仅有一个小数点的数为浮点数。如：3.14159，-0.234，+23.98。

# 依赖关系

本脚本基于python3.4（及以上），并且依赖regex库（为了能够使用正则表达式的反向预搜索功能）。如果您的及其已经正常安装python3和pip3，则直接在终端输入如下命令即可安装本脚本所需要的库文件：

    pip3 install regex

本脚本可运行于Windows或Linux平台。

# 简要说明

想要测试脚本是否正常工作，可以直接对README.md文件进行解析，也即当前的说明文件进行解析。只需在当前目录下输入：

    python3 main.py -i README.md

即可验证该脚本的有效性。

本脚本主要采用了python的正则表达式功能来实现所需功能。具体的正则表达式如下：

    (?<![-+\d\.]+)([-+]?\d+)(\.\d+)(?![\.\d])

该正则表达式主要包含两部分：

1.常规浮点数匹配部分，即：

    ([-+]?\d+)(\.\d+)

这部分可以保证匹配到形如3.14159，-0.234，+23.98等正常的浮点数字符串。但如果仅有这部分，则会将部分不合法的浮点数检测出来。如--15.86会被检测成-15.86；0.0.234会被检测成0.0等。

2.预搜索不匹配部分，即：

    (?<![-+\d\.]+)

    (?![\.\d])

这部分规定了正常浮点数两侧的边界所需要满足的条件。首先是浮点数字符串前面不可以有+/-号、数字和小数点符号。然后规定了浮点数字符串后面不可以有小数点和数字的符号。这样一来就排除了那些非法的浮点数的存在。

# 备注

本脚本仅在文件编码为utf-8（无BOM）的文本文件上测试通过，其他格式的文件不能保证是否可以正常运行。

test.txt文件为用于测试脚本功能的用例。
